<button onclick="testButton()">发起一笔测试支付 (0.01 Pi)</button>

<script>
  function testButton() {
    alert('按钮被点击了！');  // 先测试 onclick 是否响应
    createPayment();  // 再调用支付
  }

  async function createPayment() {
    try {
      console.log('开始初始化 Pi SDK');
      await Pi.init({ version: "2.0", sandbox: true });
      console.log('Pi SDK 初始化成功');

      console.log('开始认证');
      const auth = await Pi.authenticate(['username', 'payments', 'wallet_address'], onIncompletePaymentFound);
      console.log('认证成功', auth.user);

      // 支付部分保持不变
      // ... (你的 paymentData 和 Pi.createPayment 代码)
    } catch (err) {
      console.error('支付流程失败', err);
      alert('支付失败: ' + err.message + '\n请检查 console');
    }
  }
</script>